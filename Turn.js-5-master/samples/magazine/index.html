<!doctype html>
<html lang="en">

<head>
	<title>Using turn.js and the new zoom feature</title>
	<meta name="viewport" content="width = 1050, user-scalable = no" />
	<script type="text/javascript" src="../../extras/jquery.min.js"></script>
	<script type="text/javascript" src="../../lib/hash.js"></script>
	<script type="text/javascript" src="../../lib/turn.min.js"></script>
	<script type="text/javascript" src="../../lib/zoom.min.js"></script>
	<script type="text/javascript" src="js/magazine.js"></script>
	<link rel="stylesheet" href="css/magazine.css">
</head>
<style>
	body {
		background: rgba(0, 0, 0, 0.5);
		/* darkness */
		backdrop-filter: blur(4px);
		/* blur effect */
		background-image: url('pics/bgbg.png');
		background-size: cover;
		/* Scale image to cover entire area */
		background-position: center;
		/* Center the image */
		background-repeat: no-repeat;
		/* Prevent tiling */
	}

	page {
		width: 460px;
		height: 600px;
		background: red;
	}

	.page-content {
		height: 100%;
		padding: 0px;
		font-family: sans-serif;
		color: #333;
		/* background-image: url('https://storage.googleapis.com/ppc_toda_web_app/businesssummit/bg.jpg'); */
		background-size: cover;
		background-position: center;
		display: flex;
		justify-content: center;
		align-items: center;
	}


	.floating-container {
		-webkit-tap-highlight-color: transparent;
		position: relative;
		gap: -2000px;

		width: 100%;
		max-height: 25px;
		/* ✅ small fixed size */
		border-radius: 9999px;
		/* perfect circle */
		overflow: visible;
		/* ✅ allow content to overflow */
		/* background-color: red; */
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;

		cursor: pointer;
		z-index: 999;
	}

	.inner-content {
		position: absolute;
		top: 20%;
		left: 50%;
		transform: translate(-50%, -50%);

		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;

		transition: all 0.4s ease;
	}

	.logo {
		position: relative;
		padding: 0 0 -100px 0;
		scale: 25%;
		/* background-color: red; */


		transition: all 0.4s ease;
	}

	.contact-details {
		position: relative;
		opacity: 0;
		padding: 0 50px;
		transform: translateY(0);
		margin-top: ;
		max-height: 0;
		overflow: visible;
		/* background-color: red; */
		color: black;
		text-align: center;
		transition: all 0.4s ease;
	}

	#contact-details-description {
		margin: 0 auto 10px auto;
		width: 300px;
		font-size: 1.0rem;
		font-weight: 600;
		color: red;
	}

	#paragraph-info {
		align-self: center;
		margin: 10px 100px;
		width: 200px;
		gap: 10px;
		display: flex;
		justify-content: flex-start;
		align-items: center;
	}

	#iconsmall {


		width: 25px;
		height: 25px;
	}

	.floating-container.active .logo {
		padding: 0px 0 0 0;
		transform: translateY(0%) scale(0.7);
	}

	.floating-container.active .contact-details {
		opacity: 1;
		transform: translateY(-120%);
		margin-top: 0px;
		max-height: 150px;
	}




	#whiteoverlay {
		display: flex;
		width: 90%;
		height: 93%;
		background-color: rgba(255, 255, 255, 0.8);
		color: #2a5d84;
		justify-content: center;
		align-items: center;
	}

	#contp2 {
		display: flex;
		flex-direction: column;
		width: 90%;
		height: 93%;
		gap: 20px;

		justify-content: center;
		align-items: center;
	}

	#headerp1 {
		display: flex;
		width: 100%;
		height: 25%;
		justify-content: center;
		align-items: center;
		background-color: rgba(255, 0, 0, 0.8);
		color: white;
		font-size: 24px;
		font-weight: bold;
		margin-bottom: -20px;
	}

	#whiteoverlayp1 {
		display: flex;
		width: 100%;
		height: 100%;
		justify-content: center;
		align-items: center;
		background-color: rgba(255, 255, 255, 0.8);
		color: #2a5d84;

	}

	#headerp2 {
		display: flex;
		width: 100%;
		height: 15%;
		justify-content: center;
		align-items: center;
		background-color: rgba(30, 255, 0, 0.8);
		color: white;
		font-size: 24px;
		font-weight: bold;
		margin-bottom: -20px;
	}

	#whiteoverlayp2 {
		display: flex;
		width: 100%;
		height: 48%;
		justify-content: center;
		align-items: center;
		background-color: rgba(255, 255, 255, 0.8);
		color: #2a5d84;
	}

	#contp33 {
		display: flex;
		flex-direction: row;
		gap: 20px;
		justify-content: center;
		align-items: center;
		width: 90%;
		height: 100%;
	}

	#contp3 {
		display: flex;
		flex-direction: column;
		width: 90%;
		height: 93%;
		gap: 20px;

		justify-content: center;
		align-items: center;
	}

	#headerp3 {
		display: flex;
		width: 100%;
		height: 15%;
		justify-content: center;
		align-items: center;
		background-color: rgba(162, 0, 255, 0.8);
		color: white;
		font-size: 24px;
		font-weight: bold;
		margin-bottom: -20px;
	}

	#whiteoverlayp3 {
		display: flex;
		width: 100%;
		height: 48%;
		justify-content: center;
		align-items: center;
		background-color: rgba(255, 255, 255, 0.8);
		color: #2a5d84;
	}

	#covercontent {
		width: 60%;
		aspect-ratio: 1/1.9;
		background-image: url('https://storage.googleapis.com/ppc_toda_web_app/businesssummit/covercontent.png');
		background-size: cover;
		background-position: center;
	}

	#h2test {
		font-size: 2rem;
		color: #2a5d84;
		text-align: center;
	}
</style>

<body>

	<div id="canvas">

		<div class="zoom-icon zoom-icon-in"></div>

		<div class="magazine-viewport">
			<div class="container">
				<div class="magazine">
					<!-- Page 1 -->
					<div class="page">
						<div class="page-content">
							<div id="whiteoverlay">
								<div id="covercontent"></div>
							</div>
						</div>
					</div>

					<!-- Page 2 -->
					<div class="page">
						<div class="page-content">
							<div id="contp2">
								<div id="headerp1">headerp1</div>
								<div id="whiteoverlayp1">
									<div class="floating-container" onclick="toggleContact(this)">
										<img src="pics/kainato.png" alt="Logo" class="logo" />
										<div class="contact-details">
											<p id="contact-details-description">“We offer flavorful Filipino dishes
												that make you feel at home, served
												by a team that speak through actions”</p>
											<p id="paragraph-info"><img id="iconsmall" src="pics/phone.png"
													alt="Phone Icon">0917 123 4567</p>
											<p id="paragraph-info"><img id="iconsmall" src="pics/mail.png"
													alt="Mail Icon">yourpage</p>
										</div>
									</div>

								</div>

							</div>
						</div>
					</div>

					<!-- Page 3 -->
					<div class="page">
						<div class="page-content">
							<div id="contp2">
								<div id="headerp2">headerp2</div>
								<div id="whiteoverlayp2">
									<div class="floating-container" onclick="toggleContact(this)">
										<img src="pics/kainato.png" alt="Logo" class="logo" />
										<div class="contact-details">
											
											<p id="paragraph-info"><img id="iconsmall" src="pics/phone.png"
													alt="Phone Icon">0917 123 4567</p>
											<p id="paragraph-info"><img id="iconsmall" src="pics/mail.png"
													alt="Mail Icon">yourpage</p>
										</div>
									</div>
								</div>
								<div id="headerp2">headerp2</div>
								<div id="whiteoverlayp2"></div>
							</div>
						</div>
					</div>

					<!-- Page 4 -->
					<div class="page">
						<div class="page-content">
							<div id="contp33">
								<div id="contp3">
									<div id="headerp3">headerp3</div>
									<div id="whiteoverlayp3">
										<div class="floating-container" onclick="toggleContact(this)">
											<img src="pics/arrows.png" alt="Logo" class="logo" />
											<div class="contact-details">
												<p>Email: hello@example.com</p>
												<p>Phone: 0917 123 4567</p>
												<p>Facebook: @yourpage</p>
											</div>
										</div>
									</div>
									<div id="headerp3">headerp3</div>
									<div id="whiteoverlayp3"></div>
								</div>
								<div id="contp3">
									<div id="headerp3">headerp3</div>
									<div id="whiteoverlayp3">
										<div id="none">awd</div>
									</div>
									<div id="headerp3">headerp3</div>
									<div id="whiteoverlayp3"></div>
								</div>
							</div>
						</div>
					</div>

					<!-- Page 5 -->
					<div class="page">
						<div class="page-content">
							<h2 id="h2test">Contact Us</h2>
							<p>Email us at: <a href="mailto:info@example.com">info@example.com</a></p>
						</div>
					</div>

					<!-- Page 6 -->
					<div class="page">
						<div class="page-content">
							<h2>Thank You</h2>
							<p>Thanks for reading!</p>
						</div>
					</div>

					<!-- Add more pages up to 12 if needed -->

					<!-- Next and Previous buttons -->
					<div ignore="1" class="next-button"></div>
					<div ignore="1" class="previous-button"></div>
				</div>
			</div>
		</div>

		<!-- Thumbnails -->
		<div class="thumbnails">
			<div>
				<ul>
					<li class="i">
						<img src="pages/1-thumb.jpg" width="76" height="100" class="page-1">
						<span>1</span>
					</li>
					<li class="d">
						<img src="pages/2-thumb.jpg" width="76" height="100" class="page-2">
						<img src="pages/3-thumb.jpg" width="76" height="100" class="page-3">
						<span>2-3</span>
					</li>
					<li class="d">
						<img src="pages/4-thumb.jpg" width="76" height="100" class="page-4">
						<img src="pages/5-thumb.jpg" width="76" height="100" class="page-5">
						<span>4-5</span>
					</li>
					<li class="d">
						<img src="pages/6-thumb.jpg" width="76" height="100" class="page-6">
						<img src="pages/7-thumb.jpg" width="76" height="100" class="page-7">
						<span>6-7</span>
					</li>
					<!-- <li class="d">
						<img src="pages/8-thumb.jpg" width="76" height="100" class="page-8">
						<img src="pages/9-thumb.jpg" width="76" height="100" class="page-9">
						<span>8-9</span>
					</li>
					<li class="d">
						<img src="pages/10-thumb.jpg" width="76" height="100" class="page-10">
						<img src="pages/11-thumb.jpg" width="76" height="100" class="page-11">
						<span>10-11</span>
					</li>
					<li class="i">
						<img src="pages/12-thumb.jpg" width="76" height="100" class="page-12">
						<span>12</span>
					</li> -->
					<ul>
						<div>
						</div>
			</div>

			<script>
				function toggleContact(element) {
					element.classList.toggle('active');
				}

			</script>


			<script type="text/javascript">

				function loadApp() {

					$('#canvas').fadeIn(1000);

					var flipbook = $('.magazine');

					// Check if the CSS was already loaded

					if (flipbook.width() == 0 || flipbook.height() == 0) {
						setTimeout(loadApp, 10);
						return;
					}

					// Create the flipbook

					flipbook.turn({

						// Magazine width

						width: 922,

						// Magazine height

						height: 600,

						// Duration in millisecond

						duration: 1000,

						// Hardware acceleration

						acceleration: true,

						// Enables gradients

						gradients: true,

						// Auto center this flipbook

						autoCenter: true,

						// Elevation from the edge of the flipbook when turning a page

						elevation: 50,

						// The number of pages

						pages: 5,

						// Events

						when: {
							turning: function (event, page, view) {

								var book = $(this),
									currentPage = book.turn('page'),
									pages = book.turn('pages');

								// Update the current URI

								Hash.go('page/' + page).update();

								// Show and hide navigation buttons

								disableControls(page);


								$('.thumbnails .page-' + currentPage).
									parent().
									removeClass('current');

								$('.thumbnails .page-' + page).
									parent().
									addClass('current');



							},

							turned: function (event, page, view) {

								disableControls(page);

								$(this).turn('center');

								if (page == 1) {
									$(this).turn('peel', 'br');
								}

							},

							missing: function (event, pages) {

								// Add pages that aren't in the magazine

								for (var i = 0; i < pages.length; i++)
									addPage(pages[i], $(this));

							}
						}

					});

					// // Zoom.js

					// $('.magazine-viewport').zoom({
					// 	flipbook: $('.magazine'),

					// 	max: function () {

					// 		return largeMagazineWidth() / $('.magazine').width();

					// 	},

					// 	when: {

					// 		swipeLeft: function () {

					// 			$(this).zoom('flipbook').turn('next');

					// 		},

					// 		swipeRight: function () {

					// 			$(this).zoom('flipbook').turn('previous');

					// 		},

					// 		resize: function (event, scale, page, pageElement) {

					// 			if (scale == 1)
					// 				loadSmallPage(page, pageElement);
					// 			else
					// 				loadLargePage(page, pageElement);

					// 		},

					// 		zoomIn: function () {

					// 			$('.thumbnails').hide();
					// 			$('.made').hide();
					// 			$('.magazine').removeClass('animated').addClass('zoom-in');
					// 			$('.zoom-icon').removeClass('zoom-icon-in').addClass('zoom-icon-out');

					// 			if (!window.escTip && !$.isTouch) {
					// 				escTip = true;

					// 				$('<div />', { 'class': 'exit-message' }).
					// 					html('<div>Press ESC to exit</div>').
					// 					appendTo($('body')).
					// 					delay(2000).
					// 					animate({ opacity: 0 }, 500, function () {
					// 						$(this).remove();
					// 					});
					// 			}
					// 		},

					// 		zoomOut: function () {

					// 			$('.exit-message').hide();
					// 			$('.thumbnails').fadeIn();
					// 			$('.made').fadeIn();
					// 			$('.zoom-icon').removeClass('zoom-icon-out').addClass('zoom-icon-in');

					// 			setTimeout(function () {
					// 				$('.magazine').addClass('animated').removeClass('zoom-in');
					// 				resizeViewport();
					// 			}, 0);

					// 		}
					// 	}
					// });

					// // Zoom event

					// if ($.isTouch)
					// 	$('.magazine-viewport').on('zoom.doubleTap', zoomTo);
					// else
					// 	$('.magazine-viewport').on('zoom.tap', zoomTo);


					// Using arrow keys to turn the page

					$(document).on('keydown', function (e) {

						var previous = 37, next = 39, esc = 27;

						switch (e.keyCode) {
							case previous:

								// left arrow
								$('.magazine').turn('previous');
								e.preventDefault();

								break;
							case next:

								//right arrow
								$('.magazine').turn('next');
								e.preventDefault();

								break;
							case esc:

								$('.magazine-viewport').zoom('zoomOut');
								e.preventDefault();

								break;
						}
					});

					// URIs - Format #/page/1 

					Hash.on('^page\/([0-9]*)$', {
						yep: function (path, parts) {
							var page = parts[1];

							if (page !== undefined) {
								if ($('.magazine').turn('is'))
									$('.magazine').turn('page', page);
							}

						},
						nop: function (path) {

							if ($('.magazine').turn('is'))
								$('.magazine').turn('page', 1);
						}
					});


					$(window).on('resize', function () {
						resizeViewport();
					}).on('orientationchange', function () {
						resizeViewport();
					});

					// Events for thumbnails

					$('.thumbnails').on('click', function (event) {

						var page;

						if (event.target && (page = /page-([0-9]+)/.exec($(event.target).attr('class')))) {

							$('.magazine').turn('page', page[1]);
						}
					});

					$('.thumbnails li').
						on($.mouseEvents.over, function () {

							$(this).addClass('thumb-hover');

						}).on($.mouseEvents.out, function () {

							$(this).removeClass('thumb-hover');

						});

					if ($.isTouch) {

						$('.thumbnails').
							addClass('thumbanils-touch').
							on($.mouseEvents.move, function (event) {
								event.preventDefault();
							});

					} else {

						$('.thumbnails ul').on('mouseover', function () {

							$('.thumbnails').addClass('thumbnails-hover');

						}).on('mousedown', function () {

							return false;

						}).on('mouseout', function () {

							$('.thumbnails').removeClass('thumbnails-hover');

						});

					}


					// Regions

					if ($.isTouch) {
						$('.magazine').on('touchstart', regionClick);
					} else {
						$('.magazine').on('click', regionClick);
					}

					// Events for the next button

					$('.next-button').on($.mouseEvents.over, function () {

						$(this).addClass('next-button-hover');

					}).on($.mouseEvents.out, function () {

						$(this).removeClass('next-button-hover');

					}).on($.mouseEvents.down, function () {

						$(this).addClass('next-button-down');

					}).on($.mouseEvents.up, function () {

						$(this).removeClass('next-button-down');

					}).on('click', function () {

						$('.magazine').turn('next');

					});

					// Events for the next button

					$('.previous-button').on($.mouseEvents.over, function () {

						$(this).addClass('previous-button-hover');

					}).on($.mouseEvents.out, function () {

						$(this).removeClass('previous-button-hover');

					}).on($.mouseEvents.down, function () {

						$(this).addClass('previous-button-down');

					}).on($.mouseEvents.up, function () {

						$(this).removeClass('previous-button-down');

					}).on('click', function () {

						$('.magazine').turn('previous');

					});


					resizeViewport();

					$('.magazine').addClass('animated');

				}

				// Zoom icon

				$('.zoom-icon').on('mouseover', function () {

					if ($(this).hasClass('zoom-icon-in'))
						$(this).addClass('zoom-icon-in-hover');

					if ($(this).hasClass('zoom-icon-out'))
						$(this).addClass('zoom-icon-out-hover');

				}).on('mouseout', function () {

					if ($(this).hasClass('zoom-icon-in'))
						$(this).removeClass('zoom-icon-in-hover');

					if ($(this).hasClass('zoom-icon-out'))
						$(this).removeClass('zoom-icon-out-hover');

				}).on('click', function () {

					if ($(this).hasClass('zoom-icon-in'))
						$('.magazine-viewport').zoom('zoomIn');
					else if ($(this).hasClass('zoom-icon-out'))
						$('.magazine-viewport').zoom('zoomOut');

				});

				$('#canvas').hide();

				// Load turn.js

				loadApp()

			</script>

</body>

</html>